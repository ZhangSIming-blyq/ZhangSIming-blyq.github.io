<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ä¸­æ–‡ on </title>
    <link>https://zhangsiming-blyq.github.io/tags/%E4%B8%AD%E6%96%87/</link>
    <description>Recent content in ä¸­æ–‡ on </description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright Â© 2008â€“2018, Steve Francia and the Hugo Authors; all rights reserved.</copyright>
    <lastBuildDate>Fri, 16 Aug 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://zhangsiming-blyq.github.io/tags/%E4%B8%AD%E6%96%87/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ã€ç®—æ³•åˆ·é¢˜ç³»åˆ—ã€‘ç¬¬3å¤© 203.ç§»é™¤é“¾è¡¨å…ƒç´ , 707.è®¾è®¡é“¾è¡¨, 206.åè½¬é“¾è¡¨</title>
      <link>https://zhangsiming-blyq.github.io/post/algorithm/programmercarl/day3/</link>
      <pubDate>Fri, 16 Aug 2024 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/algorithm/programmercarl/day3/</guid>
      <description>
        
          
            å­¦ä¹ å†…å®¹ å­¦ä¹ æ–‡æ¡£ï¼š
é“¾è¡¨è®²è§£
æ”¶è·æ€»ç»“ é“¾è¡¨æ¦‚è¿° é“¾è¡¨æ˜¯ä¸€ç§åŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œç”±ä¸€ç³»åˆ—èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«æ•°æ®éƒ¨åˆ†å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆæˆ–å¼•ç”¨ï¼‰ã€‚é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ nullï¼Œè¡¨ç¤ºé“¾è¡¨çš„æœ«å°¾ã€‚é“¾è¡¨åŠ¨æ€æ‰©å±•æ€§å¼ºï¼Œé€‚åˆé¢‘ç¹æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚
é“¾è¡¨çš„å®šä¹‰ é“¾è¡¨æœ‰å¤šç§ç±»å‹ï¼Œæœ€å¸¸è§çš„æ˜¯å•é“¾è¡¨å’ŒåŒé“¾è¡¨ã€‚
å•é“¾è¡¨ï¼šæ¯ä¸ªèŠ‚ç‚¹åŒ…å«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ nextã€‚é“¾è¡¨çš„å¤´èŠ‚ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘ nullã€‚
Golang å•é“¾è¡¨å®šä¹‰ï¼š
1type ListNode struct { 2 Val int 3 Next *ListNode 4} åŒé“¾è¡¨ï¼šæ¯ä¸ªèŠ‚ç‚¹åŒ…å«æ•°æ®ã€æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ next å’ŒæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ prevï¼Œå…è®¸åŒå‘éå†ã€‚
Golang åŒé“¾è¡¨å®šä¹‰ï¼š
1type ListNode struct { 2 Val int 3 Next *ListNode 4 Prev *ListNode 5} æ³¨æ„äº‹é¡¹ å¾ªç¯çš„æ—¶å€™å‚è€ƒæ•°ç»„ï¼Œåˆå§‹æ¡ä»¶æ˜¯i,j; é“¾è¡¨å°±æ˜¯cur, cur.Next é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ¯”è¾ƒç‰¹æ®Šï¼Œå¤„ç†çš„æ—¶å€™éœ€è¦ç‰¹æ®Šå¤„ç†ï¼›å¼•å…¥ä¸€ä¸ªç©ºçš„å¤´èŠ‚ç‚¹dummyHeadï¼Œå¯ä»¥ç®€åŒ–å¾ˆå¤šæ“ä½œ(ä¸€è§†åŒä») é“¾è¡¨çš„æŒ‡é’ˆå°±æ˜¯ListNodeæœ¬èº«ï¼Œå› ä¸ºä»»ä½•ä¸€ä¸ªListNodeéƒ½å¯ä»¥æ ¹æ®Nextè¿›è¡Œç§»åŠ¨; åŒæŒ‡é’ˆè§£æ³•çš„æ—¶å€™æ¯ä¸€ä¸ªæŒ‡é’ˆéƒ½åº”è¯¥æ˜¯ä¸€ä¸ªListNode é“¾è¡¨å…ƒç´ çš„å†…å­˜åˆ†å¸ƒ é“¾è¡¨èŠ‚ç‚¹çš„å†…å­˜åˆ†å¸ƒä¸è¿ç»­ï¼ŒèŠ‚ç‚¹åœ¨å†…å­˜ä¸­çš„ä½ç½®æ˜¯éšæœºåˆ†é…çš„ã€‚è¿™ä½¿å¾—é“¾è¡¨å¯ä»¥çµæ´»åœ°å¢é•¿æˆ–ç¼©å°ï¼Œä½†æŸ¥æ‰¾å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œå› ä¸ºéœ€è¦ä»å¤´èŠ‚ç‚¹å¼€å§‹é€ä¸€éå†ã€‚
èŠ‚ç‚¹çš„æ’å…¥ä¸åˆ é™¤ æ’å…¥èŠ‚ç‚¹ï¼š
å¤´éƒ¨æ’å…¥ï¼šæ–°èŠ‚ç‚¹çš„ next æŒ‡å‘å½“å‰å¤´èŠ‚ç‚¹ï¼Œå¹¶å°†é“¾è¡¨å¤´èŠ‚ç‚¹æ›´æ–°ä¸ºæ–°èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ å°¾éƒ¨æ’å…¥ï¼šå•é“¾è¡¨éœ€è¦éå†é“¾è¡¨æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼ŒåŒé“¾è¡¨åˆ™ç›´æ¥è®¿é—®å°¾èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ åˆ é™¤èŠ‚ç‚¹ï¼š
åˆ é™¤å¤´èŠ‚ç‚¹ï¼šå°†å¤´èŠ‚ç‚¹æ›´æ–°ä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ åˆ é™¤æŒ‡å®šèŠ‚ç‚¹ï¼šéœ€è¦éå†é“¾è¡¨æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ é¢˜ç›®è§£æ é¢˜ç›®1ï¼š203.
          
          
        
      </description>
    </item>
    
    <item>
      <title>ã€ç®—æ³•åˆ·é¢˜ç³»åˆ—ã€‘ç¬¬2å¤© 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„, 59. èºæ—‹çŸ©é˜µ II</title>
      <link>https://zhangsiming-blyq.github.io/post/algorithm/programmercarl/day2/</link>
      <pubDate>Thu, 15 Aug 2024 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/algorithm/programmercarl/day2/</guid>
      <description>
        
          
            å­¦ä¹ å†…å®¹ å­¦ä¹ æ–‡æ¡£ï¼š
é•¿åº¦æœ€å°å­æ•°ç»„è®²è§£
èºæ—‹çŸ©é˜µIIè®²è§£
æ”¶è·æ€»ç»“ æ»‘åŠ¨çª—å£ï¼š åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ»‘åŠ¨çª—å£å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„åŒæŒ‡é’ˆæŠ€æœ¯ï¼Œå…¶ä¸­ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ jï¼ˆå³å·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆï¼‰ä»åŒä¸€ç«¯å¼€å§‹ï¼Œä½†ç§»åŠ¨çš„æ¡ä»¶æœ‰æ‰€ä¸åŒã€‚æ»‘åŠ¨çª—å£çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å³æŒ‡é’ˆ j ä¸æ–­å‘å³æ‰©å±•çª—å£ï¼ŒåŒæ—¶å·¦æŒ‡é’ˆ i å°½é‡å‘å³æ”¶ç¼©çª—å£ï¼Œä»¥æ‰¾åˆ°æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æœ€å°æˆ–æœ€å¤§çª—å£ã€‚
ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾ä½ æƒ³æ‰¾åˆ°æ•°ç»„ arr ä¸­ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„å·®å€¼ç­‰äº diff çš„ä¸€å¯¹å…ƒç´ ç´¢å¼•ï¼Œè¿™å¯ä»¥è§†ä¸ºæ»‘åŠ¨çª—å£é—®é¢˜ï¼Œå³æŒ‡é’ˆ j ç”¨æ¥æ‰©å±•çª—å£ï¼Œå·¦æŒ‡é’ˆ i ç”¨æ¥æ”¶ç¼©çª—å£ï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ã€‚åˆå§‹åŒ–æ—¶å¯ä»¥æ ¹æ®å…·ä½“é—®é¢˜é€‰æ‹© i, j éƒ½ä» 0, 0 å¼€å§‹ï¼Œä¹Ÿå¯ä»¥ 0, 1 è¿™ç§æƒ…å†µã€‚
é¢˜ç›®è§£æ é¢˜ç›®1ï¼š209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ é¢˜ç›®æè¿°: ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„ nums å’Œä¸€ä¸ªæ­£æ•´æ•° target ï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0ã€‚
ç¤ºä¾‹:
1è¾“å…¥: target = 7, nums = [2,3,1,2,4,3] 2è¾“å‡º: 2 3è§£é‡Š: å­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚ è§£æ³•æ€»ç»“: è¯¥é¢˜å¯ä»¥é€šè¿‡æ»‘åŠ¨çª—å£æŠ€æœ¯æ¥è§£å†³ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ jï¼Œåˆ†åˆ«ä»£è¡¨çª—å£çš„å·¦å³è¾¹ç•Œã€‚é¦–å…ˆï¼Œå³æŒ‡é’ˆ j å‘å³ç§»åŠ¨ï¼Œæ‰©å±•çª—å£ï¼Œç´¯åŠ çª—å£å†…çš„å…ƒç´ å’Œ sumã€‚å½“ sum å¤§äºæˆ–ç­‰äº target æ—¶ï¼Œå¼€å§‹æ”¶ç¼©çª—å£ï¼ˆç§»åŠ¨å·¦æŒ‡é’ˆ iï¼‰ï¼ŒåŒæ—¶è®°å½•å½“å‰çª—å£çš„æœ€å°é•¿åº¦ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥é«˜æ•ˆåœ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æœ€çŸ­å­æ•°ç»„é•¿åº¦ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæœ‰å¯èƒ½ç¬¬ä¸€ä¸ªæ•°å°±ç­‰äºtargetï¼Œæ‰€ä»¥jä¹Ÿè¦ä»0å¼€å§‹ï¼ŒåŒæ—¶å†…ä¾§åˆ¤æ–­æ¡ä»¶ä¹Ÿæ˜¯for!
          
          
        
      </description>
    </item>
    
    <item>
      <title>ã€ç®—æ³•åˆ·é¢˜ç³»åˆ—ã€‘ç¬¬1å¤© 704. äºŒåˆ†æŸ¥æ‰¾ï¼Œ27. ç§»é™¤å…ƒç´ , 977.æœ‰åºæ•°ç»„çš„å¹³æ–¹</title>
      <link>https://zhangsiming-blyq.github.io/post/algorithm/programmercarl/day1/</link>
      <pubDate>Wed, 14 Aug 2024 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/algorithm/programmercarl/day1/</guid>
      <description>
        
          
            å­¦ä¹ å†…å®¹ å­¦ä¹ æ–‡æ¡£ï¼šæ•°ç»„ç†è®ºåŸºç¡€
æ”¶è·æ€»ç»“ å¿«é€Ÿæ’åºï¼š
å¿«é€Ÿæ’åºæ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ³•çš„æ’åºç®—æ³•ã€‚é¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼Œç„¶åé€šè¿‡åˆ†åŒºæ“ä½œå°†æ•°ç»„åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†å…ƒç´ å°äºåŸºå‡†å€¼ï¼Œå¦ä¸€éƒ¨åˆ†å…ƒç´ å¤§äºåŸºå‡†å€¼ã€‚é€’å½’åœ°å¯¹è¿™ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºï¼Œæœ€ç»ˆå°†æ•°ç»„æ’åºå®Œæˆã€‚
1package main 2 3import &amp;#34;fmt&amp;#34; 4 5func quickSort(arr []int, low, high int) { 6 if low &amp;lt; high { 7 pi := partition(arr, low, high) 8 quickSort(arr, low, pi-1) 9 quickSort(arr, pi+1, high) 10 } 11} 12 13func partition(arr []int, low, high int) int { 14 pivot := arr[high] 15 i := low - 1 16 for j := low; j &amp;lt; high; j++ { 17 if arr[j] &amp;lt; pivot { 18 i++ 19 arr[i], arr[j] = arr[j], arr[i] 20 } 21 } 22 arr[i+1], arr[high] = arr[high], arr[i+1] 23 return i + 1 24} äºŒåˆ†æŸ¥æ‰¾ï¼š
          
          
        
      </description>
    </item>
    
    <item>
      <title>ã€Javaå…¥é—¨ç³»åˆ—ã€‘JavaåŸºç¡€å…¥é—¨ --- å®‰è£…ï¼Œæ•°æ®ç±»å‹ï¼Œç±»</title>
      <link>https://zhangsiming-blyq.github.io/post/java/java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF1/</link>
      <pubDate>Thu, 31 Aug 2023 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/java/java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF1/</guid>
      <description>
        
          
            ä¸€ã€Javaç¯å¢ƒå®‰è£… Javaæ˜¯ä¸€é—¨å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œé¦–å…ˆéœ€è¦åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šå®‰è£…Javaå¼€å‘ç¯å¢ƒã€‚ä»¥ä¸‹æ˜¯å®‰è£…Javaç¯å¢ƒçš„æ­¥éª¤ï¼š
1. é€‰æ‹©Javaç‰ˆæœ¬ å¯¹äºåˆå­¦è€…ï¼Œå»ºè®®é€‰æ‹©Java 8æˆ–Java 11ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥ä»Oracleå®˜æ–¹ç½‘ç«™ä¸‹è½½è¿™äº›ç‰ˆæœ¬ã€‚
Java 8ä¸‹è½½é“¾æ¥ï¼šhttps://www.oracle.com/java/technologies/javase/jdk8-archive-downloads.html Java 11ä¸‹è½½é“¾æ¥ï¼šhttps://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html 2. ä¸‹è½½ç¤ºä¾‹ä»£ç  æ‚¨å¯ä»¥ä¸‹è½½ç¤ºä¾‹ä»£ç ï¼Œä»¥ä¾¿å­¦ä¹ å’Œå®è·µJavaç¼–ç¨‹ã€‚ç¤ºä¾‹ä»£ç é€šå¸¸åŒ…å«äº†ä¸€äº›åŸºç¡€çš„Javaç¨‹åºï¼Œå¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿå…¥é—¨ã€‚
ç¤ºä¾‹ä»£ç ä¸‹è½½é“¾æ¥ï¼ˆä»¥wgetä¸ºä¾‹ï¼‰ï¼š
1$ wget https://horstmann.com/corejava/corejava11.zip 3. é…ç½®ç¯å¢ƒå˜é‡ å°†Javaä¸»ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿçš„PATHç¯å¢ƒå˜é‡ä¸­ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åœ¨ä»»ä½•ä½ç½®è¿è¡ŒJavaå‘½ä»¤ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š
1$ vim ~/.zshrc åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š
1export PATH=/your/java/installation/path/bin:$PATH ç¡®ä¿å°†/your/java/installation/pathæ›¿æ¢ä¸ºæ‚¨çš„Javaå®‰è£…è·¯å¾„, æ¯”å¦‚&amp;quot;/Users/simingzhang/siming/jdk-11.0.17/bin&amp;quot;ã€‚
4. éªŒè¯å®‰è£… corejavaå®ä¾‹ä»£ç å’Œjavasrcå†…ç½®åº“ä»£ç éƒ½æ”¾åˆ°javaä¸»ç›®å½•ä¸‹ï¼š
1$ tree -L 1 2. 3â”œâ”€â”€ README.html 4â”œâ”€â”€ bin 5â”œâ”€â”€ conf 6â”œâ”€â”€ corejava 7â”œâ”€â”€ include 8â”œâ”€â”€ javasrc 9â”œâ”€â”€ jmods 10â”œâ”€â”€ legal 11â”œâ”€â”€ lib 12â”œâ”€â”€ man 13â””â”€â”€ release ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯æ‚¨çš„Javaå®‰è£…æ˜¯å¦æˆåŠŸï¼š
1$ javac --version 2javac 11.0.17 3 4$ java --version 5java 11.
          
          
        
      </description>
    </item>
    
    <item>
      <title>gitçš„cherry-pickæ“ä½œ</title>
      <link>https://zhangsiming-blyq.github.io/post/linux/git%E7%9A%84cherry-pick%E6%93%8D%E4%BD%9C/</link>
      <pubDate>Fri, 24 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/linux/git%E7%9A%84cherry-pick%E6%93%8D%E4%BD%9C/</guid>
      <description>
        
          
             å‚è€ƒé“¾æ¥: https://www.atlassian.com/git/tutorials/cherry-pick/ git çš„ cherry-pick æ“ä½œç®€å•æ¥è®²å°±æ˜¯å¯ä»¥æŠŠå…·ä½“çš„commitä»ä¸€ä¸ªåˆ†æ”¯ï¼Œç›´æ¥å«æ¥(å¤åˆ¶)åˆ°å¦ä¸€ä¸ªåˆ†æ”¯, ä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­: 1$ git branch 2* feat/siming 3 master 4$ git log 5commit 1d7df64add47be9891efa6469f663e78acf3982f (HEAD -&amp;gt; feat/siming, origin/feat/siming) 6Author: zhangsiming &amp;lt;zhangsiming@360.cn&amp;gt; 7Date: Fri Feb 10 20:18:59 2023 +0800 8 9 test2 10 11commit a272f807df9f22c58aa2a970ff26a13a66abec4d 12Author: zhangsiming &amp;lt;zhangsiming@360.cn&amp;gt; 13Date: Fri Feb 10 19:59:06 2023 +0800 14 15 test 16... 17 18# å¯ä»¥çœ‹åˆ°feat/simingåˆ†æ”¯æœ€è¿‘ä¸¤ä¸ªcommitä¸€ä¸ªæ˜¯testï¼Œä¸€ä¸ªæ˜¯test2ï¼Œæˆ‘ä»¬ç°åœ¨è®°å½•ä¸€ä¸‹testçš„commitIdï¼Œç„¶åæŠŠä»–cherry-pickåˆ°masteråˆ†æ”¯ 19$ git checkout master 20$ git cherry-pick a272f807df9f22c58aa2a970ff26a13a66abec4d 21 22# å¤§åŠŸå‘Šæˆï¼Œtestéƒ¨åˆ†çš„å˜æ›´å·²ç»è¿½åŠ åˆ°äº†masteråˆ†æ”¯ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹git log graph(æ³¨æ„çœ‹HEADæŒ‡é’ˆä½ç½®) 23$ git log --pretty=oneline --graph --decorate --all 24 25* 1d7df64add47be9891efa6469f663e78acf3982f (origin/feat/siming, feat/siming) test2 26* a272f807df9f22c58aa2a970ff26a13a66abec4d test 27* 627f296be9f64418d4f6dfe99d2fcf6881196f30 (HEAD -&amp;gt; master, origin/master, origin/HEAD) Merge branch &amp;#39;feat/siming&amp;#39; into &amp;#39;master&amp;#39; 28|\ 29| * 3a64ef1e9c78dba97b775ac6fcf3a1ecf0c7e925 fix: ä¼˜åŒ–gpu-alarmer 30| * 08358da0a98490e9e87a990342d13dbeffb7758f add: k8s-weekly-report 31| * 7231fc0a739fae55a5800e883d2e811b6c58e7f3 fix: ä¿®æ”¹eventsinformeræ—¶é—´å±•ç¤º 32 33# å¦‚æœä¸æƒ³è¦è¿™ä¸ªcommitäº†ï¼Œå¯ä»¥resetå›é€€(HEADåé¢æœ‰å‡ ä¸ª^å°±å›é€€å‡ ä¸ªcommitï¼Œæˆ–è€…é‡‡ç”¨HEAD~n) 34$ git reset --hard HEAD^ 
          
          
        
      </description>
    </item>
    
    <item>
      <title>kuberneteså¸¸è§„é—®é¢˜</title>
      <link>https://zhangsiming-blyq.github.io/post/kubernetes/kubernetes%E5%B8%B8%E8%A7%84%E9%97%AE%E9%A2%98/</link>
      <pubDate>Fri, 24 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/kubernetes/kubernetes%E5%B8%B8%E8%A7%84%E9%97%AE%E9%A2%98/</guid>
      <description>
        
          
             kubernetesçš„cordonæ‰“ä¸Šçš„SchedulingDisabledä»…ä»…å½±å“è°ƒåº¦ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æ‰“ä¸ŠnodeNameä¸ä¼šå—åˆ°è¯¥å‚æ•°çš„å½±å“ kubernetesçš„QosClassåˆ¤æ–­podå†…çš„å…¨éƒ¨containerï¼ŒåŒ…æ‹¬init-containerï¼Œä¹Ÿå°±æ˜¯å¦‚æœinit-containerä¸è¿›è¡Œé™åˆ¶ï¼Œå…¶ä»–containeræ— è®ºæ€ä¹ˆé…ç½®ä»ç„¶ä¸æ˜¯Guaranteed kubernetesé›†ç¾¤æ–°ç‰ˆæœ¬å¦‚æœcordonæ‰“ä¸Šunscheduleï¼Œä¼šé»˜è®¤è¿½åŠ Taintï¼›æ—§ç‰ˆæœ¬ä¸ä¼š kubernetesé›†ç¾¤å¯¹äºunscheduleçš„èŠ‚ç‚¹ä¸ä¼šèµ°å…¥è°ƒåº¦ç¯èŠ‚ï¼Œåªæœ‰å¯ä»¥æ­£å¸¸è°ƒåº¦çš„èŠ‚ç‚¹æ‰ä¼šèµ°åˆ°åé¢åˆ¤æ–­Tolerationï¼Œlabelç­‰ï¼›ç‰¹åˆ«åœ°ï¼Œå¯¹äºdaemonsetçš„podï¼ŒschedulingDisableæ— æ•ˆï¼Œä½†æ˜¯toleranceç­‰æœ‰æ•ˆ(v1.17ç‰ˆæœ¬ä¸­ï¼ŒDamoneset çš„ pod çš„è°ƒåº¦ä» daemonset controller è¿ç§»åˆ° kube-scheduler æ¥åšè°ƒåº¦ï¼Œä»è€Œæ”¯æŒ PodAffnityã€PodAntiAffinity ç­‰èƒ½åŠ›) Error(ä¸å†é‡å¯)ï¼ŒCompletedçŠ¶æ€çš„podipä¼šæ˜¾ç¤ºï¼Œä½†æ˜¯å®é™…ä¸å ç”¨podipï¼ŒçœŸå®podipå·²ç»åˆ†é…ç»™å…¶ä»–æœåŠ¡ä½¿ç”¨ kubernetesä¸­ï¼Œkubeleté™åˆ¶çš„max-podæ•°é‡æ˜¯é™åˆ¶çš„å…·ä½“çš„podæ•°é‡ï¼Œè¶…å‡ºä¼šæŠ¥é”™Outofpods æ¯æ¬¡podé‡å¯ï¼Œkubeletä¼šç»™ä»–åˆ†é…æ–°çš„cgroupç›®å½•è·¯å¾„ï¼Œè€Œä¸ä¼šä½¿ç”¨åŸæ¥çš„ï¼›æ–°çš„podå¯åŠ¨ä¹‹åé—´éš”ä¸€å°æ®µæ—¶é—´ä¼šåˆ é™¤æ—§çš„cgroupè·¯å¾„ kubernetes æ¨èä½¿ç”¨ systemd æ¥ä»£æ›¿ cgroupfs; å› ä¸ºsystemdæ˜¯kubernetesè‡ªå¸¦çš„cgroupç®¡ç†å™¨, è´Ÿè´£ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…cgroups; ä½†dockerçš„cgroup driveré»˜è®¤æ˜¯cgroupfs,è¿™æ ·å°±åŒæ—¶è¿è¡Œæœ‰ä¸¤ä¸ªcgroupæ§åˆ¶ç®¡ç†å™¨ï¼›å¯ä»¥ä½¿ç”¨docker infoæŸ¥çœ‹dockerä½¿ç”¨çš„cgroup driverï¼Œç„¶åä»&amp;quot;/etc/docker/daemon.json&amp;quot;ä¸­ä¿®æ”¹æˆsystemd 
          
          
        
      </description>
    </item>
    
    <item>
      <title>ä¸­æ–­ç»‘å®šcpuæ ¸å¿ƒé—®é¢˜</title>
      <link>https://zhangsiming-blyq.github.io/post/linux/%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9Acpu%E6%A0%B8%E5%BF%83%E9%97%AE%E9%A2%98/</link>
      <pubDate>Fri, 24 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/linux/%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9Acpu%E6%A0%B8%E5%BF%83%E9%97%AE%E9%A2%98/</guid>
      <description>
        
          
             ä¸­æ–­æ˜¯ä»€ä¹ˆï¼Ÿä¸­æ–­æ˜¯ä¸€ç§ç”µä¿¡å·ï¼Œç”±ç¡¬ä»¶äº§ç”Ÿå¹¶ç›´æ¥é€åˆ°ä¸­æ–­æ§åˆ¶å™¨ä¸Šï¼Œå†ç”±ä¸­æ–­æ§åˆ¶å™¨å‘CPUå‘é€ä¸­æ–­ä¿¡å·ï¼ŒCPUæ£€æµ‹åˆ°ä¿¡å·åï¼Œä¸­æ–­å½“å‰å·¥ä½œè½¬è€Œå¤„ç†ä¸­æ–­ä¿¡å·ï¼›å…¶å®å‡†ç¡®çš„è¯´è¿™ç§ç®—ç¡¬ä¸­æ–­ å¦‚æœä¸åƒè®©è¿™ç§ä¸­æ–­ï¼Œæˆ–è€…ç³»ç»Ÿä¸­æ–­å’Œç½‘ç»œä¸­æ–­å’Œä¸€äº›ä¸šåŠ¡çš„ä¸­æ–­åœ¨åŒä¸€ä¸ªcpuä¸Šé¢äº’ç›¸å½±å“ï¼›å¯ä»¥æŠŠæŸä¸ªä¸­æ–­ç»‘å®šåˆ°æŸå‡ ä¸ªç‰¹å®šçš„cpuæ ¸å¿ƒï¼Œæ¥è¾¾åˆ°ç›®çš„ é»˜è®¤æƒ…å†µsystemctl status irqbalanceæœåŠ¡ä¼šå¹³è¡¡æ‰€æœ‰ä¸­æ–­å‡è¡¡åœ°æ˜¯ç”¨cpu å¯ä»¥ç”¨echo cpuå· &amp;gt; /proc/irq/ä¸­æ–­å·/smp_affinityæˆ–è€…ä½¿ç”¨tasksetæ¥ç»‘å®šä¸­æ–­åˆ°å…·ä½“çš„cpuæ ¸å¿ƒ ethtool -l eth0å¯ä»¥çœ‹åˆ°ï¼Œä¸€äº›é€šé“ä¿¡æ¯(è¿™ä¸ªé€šé“æ˜¯å¯ä»¥è§¦å‘ç½‘ç»œä¸­æ–­çš„é˜Ÿåˆ—æ•°é‡), è®¾ç½®å¤šäº†ä¼šå½±å“å†…å­˜ç­‰èµ„æºï¼Œè®¾ç½®å°äº†å¯èƒ½ä¼šç§°ä¸ºé«˜æµé‡ç“¶é¢ˆ å‚è€ƒé“¾æ¥ï¼šhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_for_real_time/7/html/tuning_guide/interrupt_and_process_binding 
          
          
        
      </description>
    </item>
    
    <item>
      <title>åœ¨defaultå‘½åç©ºé—´ä¸‹çš„svc, kubernetes</title>
      <link>https://zhangsiming-blyq.github.io/post/kubernetes/kubernetes-default-svc/</link>
      <pubDate>Fri, 24 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/kubernetes/kubernetes-default-svc/</guid>
      <description>
        
          
            
è¯¥svcä½œä¸ºé›†ç¾¤å†…éƒ¨æœåŠ¡è¿æ¥api-serverçš„åª’ä»‹(è¿™ä¸‰ä¸ªä¿¡æ¯ä¼šè¢«æ³¨å…¥åˆ°æ¯ä¸ªé›†ç¾¤å†…éƒ¨çš„podä¸­: KUBERNETES_SERVICE_HOST=10.96.0.1ã€KUBERNETES_SERVICE_PORT=443ã€KUBERNETES_SERVICE_PORT_HTTPS=443) æ°¸è¿œä½¿ç”¨&amp;quot;--service-cluster-ip-range&amp;quot;å®šä¹‰çš„CIDRçš„ç¬¬ä¸€ä¸ªipåœ°å€ svcä»¥åŠå¯¹åº”çš„endpointséƒ½æ˜¯ç”±master controller(api-serveräºŒè¿›åˆ¶æ–‡ä»¶åœ¨æœ€å¼€å§‹å¯åŠ¨çš„controllerä¹‹ä¸€)ç®¡æ§ RunKubernetesService()æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œé‡Œé¢çš„é€»è¾‘åŒ…å«æ”¯æŒUpdateKubernetesService()æ›´æ–°è¿™ä¸ªsvcä¿¡æ¯ï¼ŒReconcileEndpoints(...endpointPorts []corev1.EndpointPort...)æ¥æ›´æ–°endpointï¼Œä¹Ÿå°±æ˜¯ä¸€èˆ¬3ä¸ªmasterçš„ä¿¡æ¯ï¼›ä¸è¿‡æœ‰æ—¶å€™çœ‹åˆ°çš„endpointå¯èƒ½åªæœ‰ä¸€ä¸ªipï¼Œè¿™å¯èƒ½æ˜¯äº‘å‚å•†ä¼ å…¥çš„master lbå±‚ å‚è€ƒé“¾æ¥: https://networkop.co.uk/post/2020-06-kubernetes-default/ 
          
          
        
      </description>
    </item>
    
    <item>
      <title>ä½¿ç”¨zapæ‰“é€ ä½ çš„golangæ—¥å¿—åº“</title>
      <link>https://zhangsiming-blyq.github.io/post/golang/gozap/</link>
      <pubDate>Fri, 28 Oct 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/golang/gozap/</guid>
      <description>
        
          
            è¿‘æœŸé…ç½®äº†uberå®¶çš„zapæ—¥å¿—åº“ï¼Œè§‰å¾—æ€§èƒ½æ¯”è¾ƒå¼ºï¼Œå±•ç¤ºæ¯”è¾ƒç¾è§‚ï¼Œåœ¨è¿™é‡Œåšä¸€ä¸ªåˆ†äº«ï¼Œä»£ç åœ¨ç¬¬ä¸‰éƒ¨åˆ†å¯ä»¥è‡ªå–ã€‚
ä¸ºä»€ä¹ˆä¸é€‰æ‹©åŸç”Ÿlog? è¯´èµ·golangå¦‚ä½•ä¼˜é›…çš„æ‰“å°æ—¥å¿—ï¼Œä»»ä½•ä¸€ä¸ªgolangçš„åˆå­¦è€…å¤§æ¦‚éƒ½æ˜¯ç”¨çš„åŸç”Ÿlogåº“ï¼Œæˆ–è€…ç›´æ¥fmt.Println()...ä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸ä¼˜é›…ï¼Œå¹¶ä¸”æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š
å¯¹äºåŸºç¡€æ—¥å¿—ï¼šä¸èƒ½ç»†ç²’åº¦åŒºåˆ†infoå’Œdebugçº§åˆ«çš„æ—¥å¿—; å¯¹äºé”™è¯¯æ—¥å¿—: ä¸æ”¯æŒé™¤äº†fatalæˆ–è€…panicçš„æ™®é€šerrorçº§åˆ«å‘ŠçŸ¥ã€‚ logç¤ºä¾‹ 1package main 2 3import &amp;#34;log&amp;#34; 4 5func main() { 6 log.Print(&amp;#34;info or debug&amp;#34;) 7 log.Fatal(&amp;#34;fatal&amp;#34;) 8 log.Panic(&amp;#34;panic&amp;#34;) 9} 10 11// è¾“å‡ºå¦‚ä¸‹ 122022/11/23 22:23:32 info or debug 132022/11/23 22:23:32 fatal 14exit status 1 ä¸ºä»€ä¹ˆä¸é€‰æ‹©logrus? logrusä¹Ÿæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„è‡ªå®šä¹‰æ—¥å¿—åº“ï¼Œä¸è¿‡å› ä¸ºGoè¯­è¨€æ˜¯ä¸€é—¨å¼ºç±»å‹çš„é™æ€è¯­è¨€ï¼Œè€Œlogruséœ€è¦çŸ¥é“æ•°æ®çš„ç±»å‹æ¥æ‰“å°æ—¥å¿—ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿå®ç°æ–¹æ¡ˆæ˜¯ä½¿ç”¨åå°„ï¼Œè¿™å¯¼è‡´å¤§é‡åˆ†é…è®¡æ•°ã€‚è™½ç„¶é€šå¸¸ä¸æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼ˆå–å†³äºä»£ç ï¼‰ï¼Œä½†æ˜¯åœ¨å¤§è§„æ¨¡ã€é«˜å¹¶å‘çš„é¡¹ç›®ä¸­é¢‘ç¹çš„åå°„å¼€é”€å½±å“å¾ˆå¤§ï¼Œæ‰€ä»¥è¿™é‡Œä¸è¿›è¡Œé‡‡ç”¨ã€‚
ä»“åº“é“¾æ¥: logrus
logrusç¤ºä¾‹ 1package main 2 3import log &amp;#34;github.com/sirupsen/logrus&amp;#34; 4 5var logger = log.New() 6 7func main() { 8 // è¿™é‡Œå¯ä»¥é€šè¿‡WithFieldsæ¥é™„åŠ å­—æ®µ 9 logger.WithFields(log.Fields{&amp;#34;testfield&amp;#34;: &amp;#34;test&amp;#34;}).Info(&amp;#34;test info&amp;#34;) 10 logger.Info(&amp;#34;info&amp;#34;) 11 logger.
          
          
        
      </description>
    </item>
    
    <item>
      <title>è°ˆè°ˆkubernetes è¯ä¹¦è®¤è¯é‚£äº›äº‹å„¿</title>
      <link>https://zhangsiming-blyq.github.io/post/kubernetes/kubernetes-certificate/</link>
      <pubDate>Mon, 12 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/kubernetes/kubernetes-certificate/</guid>
      <description>
        
          
            kuberneteså„ä¸ªç»„ä»¶éƒ½æ˜¯åŠ å¯†é€šä¿¡çš„, é‚£ä¹ˆéƒ½æœ‰å“ªäº›è¯ä¹¦ã€å„ä¸ªè¯ä¹¦æ€ä¹ˆäº¤äº’ã€è¿™äº›è¯ä¹¦ä»€ä¹ˆæ—¶å€™è¿‡æœŸï¼Œè¿™ä¸ªå°±å˜å¾—è‡³å…³é‡è¦; æœ¬æ–‡å¼•ç”¨äº†ä¸€äº›å…¶ä»–ç½‘ç»œå†…å®¹(å‡å·²é™„ä¸ŠåŸæ–‡é“¾æ¥)ï¼Œå¹¶é€‚å½“è¡¥å……å®Œå–„ï¼Œç”¨äºè®©æ–°æ‰‹å®Œå–„ç†Ÿæ‚‰kubernetesè¯ä¹¦ä½“ç³»(å¦‚æœ‰ä¾µæƒè”ç³»é‚®ç®±å¯ä»¥åˆ é™¤)ã€‚
ä¸€ã€æ•°å­—è¯ä¹¦åŸç† 1.1 ä¼ ç»Ÿéå¯¹ç§°åŠ å¯† 1message --&amp;gt; (å…¬é’¥åŠ å¯†) --&amp;gt; || ä¼ è¾“ || --&amp;gt; (ç§é’¥è§£å¯†) --&amp;gt; message æ³¨æ„:
1.è¿™é‡Œä¸æ•°å­—è¯ä¹¦è®¤è¯ç›¸åï¼Œæ˜¯å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†
2.å…¬é’¥ç§é’¥éœ€è¦æ˜¯ä¸€ä¸ªç§˜é’¥å¯¹
1.2 å“ˆå¸Œå‡½æ•° 1message --&amp;gt; H(message) --&amp;gt; Hash message å¤„ç†åŠ å…¥ä¸€ä¸ªéšæœºæ•°ï¼Œç„¶åå¾—å‡ºç»“æœ(åŠ ç›); å¯ä»¥æœ‰æ•ˆç¼“è§£åœ¨è¾“å…¥å€¼æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é›†åˆï¼Œå“ˆå¸Œå€¼ä¹Ÿæ˜¯å›ºå®šé•¿åº¦è¢«åˆ«äººâ€˜è¯•â€™å‡ºæ¥çš„å‡ ç‡
1message --&amp;gt; H(R|message) --&amp;gt; Hash message 1.3 æ•°å­—è¯ä¹¦ 1.3.1 æ•°å­—ç­¾å æ•°å­—ç­¾åï¼›æŠŠæ•°æ®æ ¹æ®ç§é’¥/å“ˆå¸Œè¿›è¡ŒåŠ å¯†ï¼Œç„¶åå¿…é¡»è¦å¯¹åº”çš„å…¬é’¥æ¥è¿›è¡Œè§£å¯†è®¤è¯æ‰èƒ½ç¡®ä¿æ•°æ®å®‰å…¨ã€‚å‰åŠå¥çš„åŠ å¯†è¿‡ç¨‹å°±å«åš &#39;æ•°å­—ç­¾å&#39;
1.3.2 æ•°å­—è¯ä¹¦è®¤è¯è¿‡ç¨‹ Alice æƒ³è¦é€šè¿‡è¯ä¹¦åŠ å¯†è®© Bob å®‰å…¨è¯»åˆ°è‡ªå·±çš„ä¿¡æ¯æµç¨‹å¦‚ä¸‹ï¼š
Alice åœ¨æœ¬åœ°ç”Ÿæˆ Private Key å’Œ CSRï¼ˆCertificate Signing Requestï¼‰ã€‚CSR ä¸­åŒ…å«äº† Alice çš„å…¬é’¥å’Œå§“åï¼Œæœºæ„ã€åœ°å€ç­‰èº«ä»½ä¿¡æ¯ã€‚ Alice ä½¿ç”¨è¯¥ CSR å‘è¯ä¹¦æœºæ„å‘èµ·æ•°å­—è¯ä¹¦ç”³è¯·ã€‚ è¯ä¹¦æœºæ„éªŒè¯ Alice çš„èº«ä»½åï¼Œä½¿ç”¨ CSR ä¸­çš„ä¿¡æ¯ç”Ÿæˆæ•°å­—è¯ä¹¦ï¼Œå¹¶ä½¿ç”¨è‡ªå·±çš„ CA æ ¹è¯ä¹¦å¯¹åº”çš„ç§é’¥å¯¹è¯¥è¯ä¹¦ç­¾åã€‚ Alice ä½¿ç”¨è‡ªå·±çš„ Private Key å¯¹åˆåŒè¿›è¡Œç­¾åï¼Œç„¶åå°†ç­¾ååçš„åˆåŒå’Œè‡ªå·±çš„è¯ä¹¦ä¸€èµ·å¹¶å‘é€ç»™ Bobã€‚ Bob ä½¿ç”¨æ“ä½œç³»ç»Ÿä¸­è‡ªå¸¦çš„è¯ä¹¦æœºæ„æ ¹è¯ä¹¦ä¸­çš„å…¬é’¥æ¥éªŒè¯ Alice è¯ä¹¦ä¸­çš„ç­¾åï¼Œä»¥ç¡®è®¤ Alice çš„èº«ä»½å’Œå…¬é’¥ã€‚(ä½¿ç”¨å†…ç½®æ ¹è¯ä¹¦ç¡®è®¤èº«ä»½å¹¶è·å–Aliceè¯ä¹¦) Alice çš„è¯ä¹¦éªŒè¯æˆåŠŸåï¼ŒBob ä½¿ç”¨ Alice è¯ä¹¦ä¸­çš„å…¬é’¥æ¥éªŒè¯åˆåŒä¸­æ•°å­—ç­¾åã€‚(ä½¿ç”¨åˆšåˆšè·å–çš„Aliceè¯ä¹¦(å…¬é’¥)è§£æAliceå‘é€çš„å†…å®¹) åˆåŒæ•°å­—ç­¾åé€šè¿‡éªŒè¯ï¼Œå¯ä»¥è¯æ˜è¯¥åˆåŒä¸º Alice æœ¬äººå‘é€ï¼Œå¹¶ä¸”ä¸­é—´æœªè¢«ç¬¬ä¸‰æ–¹ç¯¡æ”¹è¿‡ã€‚ æ³¨æ„ï¼š
          
          
        
      </description>
    </item>
    
    <item>
      <title>æµ…è°ˆkubernetes ingressæœºåˆ¶</title>
      <link>https://zhangsiming-blyq.github.io/post/kubernetes/ingress-mechanism/</link>
      <pubDate>Thu, 25 Aug 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/kubernetes/ingress-mechanism/</guid>
      <description>
        
          
            ingressåœ¨å°†æµé‡å‘å¾€åç«¯çš„æ—¶å€™æ˜¯ä¸ç»è¿‡kube-proxyçš„ï¼Œingress controllerä¼šç›´æ¥å’Œkube-apiserverè¿›è¡Œäº¤äº’ï¼Œç„¶åè·å–pod endpointså’Œserviceçš„å¯¹åº”å…³ç³»ï¼Œè¿›è¡Œè½®è¯¢ï¼Œè´Ÿè½½å‡è¡¡åˆ°åç«¯èŠ‚ç‚¹ã€‚
ä¸€ã€éªŒè¯è¯•éªŒ ä»é›†ç¾¤ä¸­åˆ é™¤kube-proxyï¼ŒæŸ¥çœ‹é€šè¿‡ingressçš„æ–¹å¼æ˜¯å¦å¯ä»¥è®¿é—®æˆåŠŸ?
1# å®éªŒä¸­é€‰æ‹©çš„æ˜¯&amp;#34;iptablesæ¨¡å¼çš„kube-proxy&amp;#34; 2# é¦–å…ˆå…³é—­kube-proxy 3$ sudo systemctl stop kube-proxy 4 5# æŸ¥çœ‹æœåŠ¡ï¼ŒClusterIPçš„ç«¯å£æ˜¯8080ï¼ŒNodePortçš„ç«¯å£æ˜¯30948 6$ ks 7NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE 8example-test NodePort 10.0.0.226 &amp;lt;none&amp;gt; 8080:30948/TCP 18h 9traefik NodePort 10.0.0.85 &amp;lt;none&amp;gt; 9000:30001/TCP,80:30002/TCP,443:31990/TCP 19h 10 11# æŸ¥çœ‹ä¸&amp;#34;10.0.0.226&amp;#34;æœ‰å…³çš„iptablesæ¡ç›®ï¼Œå¾—çŸ¥è®¿é—®&amp;#34;10.0.0.226&amp;#34;ä¸”ç›®çš„ç«¯å£æ˜¯&amp;#34;8080&amp;#34;çš„æµé‡ä¼šå‘é€ç»™KUBE-SVC-KNYNFDNL67C7KAZZé“¾ 12$ sudo iptables -S -t nat | grep 10.0.0.226 13-A KUBE-SERVICES ! -s 10.0.0.0/24 -d 10.0.0.226/32 -p tcp -m comment --comment &amp;#34;traffic-dispatcher/example-test:port-8080 cluster IP&amp;#34; -m tcp --dport 8080 -j KUBE-MARK-MASQ 14-A KUBE-SERVICES -d 10.
          
          
        
      </description>
    </item>
    
    <item>
      <title>APIç½‘å…³å¯¹æ¯”</title>
      <link>https://zhangsiming-blyq.github.io/post/linux/apigateway/</link>
      <pubDate>Mon, 18 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/linux/apigateway/</guid>
      <description>
        
          
            kongã€apisixæ˜¯å½“å‰æ¯”è¾ƒç«çš„ä¸¤æ¬¾å¼€æºapiç½‘å…³ï¼Œæœ¬æ–‡å¯¹æ¯”äº†äºŒè€…çš„éƒ¨ç½²ã€ä½¿ç”¨æ–¹å¼ï¼›æä¾›ä¸€ä¸ªç®€å•çš„å‚è€ƒ; å¯¹äºkongï¼Œå¤§å®¶éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä½†æ˜¯å¯¹äºapisixå¯èƒ½ç†Ÿæ‚‰çš„å¹¶ä¸å¤šï¼Œé‚£ä¹ˆkongã€apisixåœ¨ä½¿ç”¨æ–¹å¼ï¼ŒåŠŸèƒ½å‘½åä¸Šæ˜¯å¦æœ‰ç›¸ä¼¼ï¼Œè¿˜æ˜¯ç†å¿µä¸åŒï¼Œè¯·çœ‹ä¸‹æ–‡ã€‚
ä¸€ã€kong 1.1 å®‰è£… 1# å®‰è£…kong 2$ helm repo add kong https://charts.konghq.com 3$ helm repo update 4$ helm fetch kong/kong 5$ tar xf kong-2.5.0.tgz 6$ cd kong 7$ ls 8CHANGELOG.md Chart.yaml FAQs.md README.md UPGRADE.md charts ci crds example-values requirements.lock requirements.yaml templates values.yaml 9...éœ€è¦é…ç½® 101. postgresqlä½œä¸ºå­˜å‚¨ 112. å…è®¸plain textè°ƒç”¨admin API 12 13# å®‰è£…konga 14$ gc https://github.com/pantsel/konga.git 15$ ls konga 16Chart.yaml templates values.yaml 17...éœ€è¦é…ç½® 181. è·å–postgresqlçš„secretå†™å…¥è¿æ¥ä¿¡æ¯ 19 20# éƒ¨ç½² 21$ helm install kong .
          
          
        
      </description>
    </item>
    
    <item>
      <title>ansible-playbook è¯¦è§£</title>
      <link>https://zhangsiming-blyq.github.io/post/linux/ansible-playbook/</link>
      <pubDate>Sun, 10 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/linux/ansible-playbook/</guid>
      <description>
        
          
            Ansible æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäº OpenSSH çš„è‡ªåŠ¨åŒ–é…ç½®ç®¡ç†å·¥å…·ã€‚å¯ä»¥ç”¨å®ƒæ¥é…ç½®ç³»ç»Ÿã€éƒ¨ç½²è½¯ä»¶å’Œç¼–æ’æ›´é«˜çº§çš„ IT ä»»åŠ¡ï¼Œæ¯”å¦‚æŒç»­éƒ¨ç½²æˆ–é›¶åœæœºæ›´æ–°ã€‚
ä¸€ã€ansible ç®€ä»‹ Ansible çš„ä¸»è¦ç›®æ ‡æ˜¯ç®€å•å’Œæ˜“ç”¨ï¼Œå¹¶ä¸”å®ƒè¿˜é«˜åº¦å…³æ³¨å®‰å…¨æ€§å’Œå¯é æ€§ã€‚åŸºäºè¿™æ ·çš„ç›®æ ‡ï¼ŒAnsible é€‚ç”¨äºå¼€å‘äººå‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜ã€å‘å¸ƒå·¥ç¨‹å¸ˆã€IT ç»ç†ï¼Œä»¥åŠä»‹äºä¸¤è€…ä¹‹é—´çš„æ‰€æœ‰äººã€‚Ansible é€‚åˆç®¡ç†å‡ ä¹æ‰€æœ‰çš„ç¯å¢ƒï¼Œä»æ‹¥æœ‰å°‘æ•°å®ä¾‹çš„å°å‹ç¯å¢ƒåˆ°æœ‰æ•°åƒä¸ªå®ä¾‹çš„ä¼ä¸šç¯å¢ƒã€‚
1.1 ansible å˜é‡ä¼˜å…ˆçº§å¦‚ä¸‹ command line values (eg &amp;quot;-u user&amp;quot;) role defaults inventory file or script group vars inventory group_vars/all playbook group_vars/all inventory group_vars/* playbook group_vars/* inventory file or script host vars inventory host_vars/*: inventory ä¸‹é¢çš„ hosts_vars ç›®å½•ä¸‹çš„å˜é‡ä¼˜å…ˆçº§å¤§äº group_vars ç›®å½•ä¸‹çš„ playbook host_vars/* host facts / cached set_facts play vars play vars_prompt play vars_files: vars_files ä¼˜å…ˆçº§å¤§äºåŒçº§åˆ«çš„ vars å­—æ®µ(play å†…å®šä¹‰) role vars (defined in role/vars/main.
          
          
        
      </description>
    </item>
    
    <item>
      <title>client-go watchæ¥å£éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨é€€å‡ºæ€ä¹ˆåŠï¼Ÿ</title>
      <link>https://zhangsiming-blyq.github.io/post/golang/retrywatcher/</link>
      <pubDate>Sat, 28 May 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/golang/retrywatcher/</guid>
      <description>
        
          
            åœ¨ä½¿ç”¨client-goçš„watchæ¥å£æ—¶å€™ç¢°åˆ°å¼‚å¸¸é€€å‡ºé—®é¢˜ï¼ŒæŸ¥äº†ä¸€ä¸‹googleæ²¡æœ‰å¤šå°‘ä¿¡æ¯ï¼Œäºæ˜¯æ‰’äº†ä¸€ä¸‹ä»£ç ï¼ŒæŠŠè‡ªå·±è¸©çš„å‘è®°å½•ä¸‹æ¥æ–¹ä¾¿ä»¥åè‡ªæŸ¥è‡ªçº ã€‚
ä½¿ç”¨client-go watchæ¥å£ ğŸ’¡ å…¨å±€çš„myclusteréƒ½ç­‰äº*kubernetes.Clientset 1. å¦‚ä½•watch ç”±äºkubernetesæ•´åˆäº†etcdçš„watchåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡watchæ“ä½œå»å»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼Œä¸æ–­çš„æ¥æ”¶æ•°æ®ï¼›è¿™ç§æ–¹å¼è¦ä¼˜äºæ™®é€šçš„åå¤è½®è¯¢è¯·æ±‚ï¼Œé™ä½serverç«¯çš„å‹åŠ›;
ä½¿ç”¨client-goè°ƒç”¨å¯¹åº”å¯¹è±¡çš„Watch()æ–¹æ³•ä¹‹åï¼Œä¼šè¿”å›ä¸€ä¸ªwatch.Eventå¯¹è±¡ï¼Œå¯ä»¥å¯¹å…¶ä½¿ç”¨ResultChan()æ¥å—watchåˆ°çš„å¯¹è±¡ã€‚
1pod, err := mycluster.Clusterclientset.CoreV1().Pods(appNamespace).Watch(context.TODO(), metav1.ListOptions{LabelSelector: label}) 2if err != nil { 3 log.Error(err) 4} 5... 6event, ok := &amp;lt;-pod.ResultChan() 7if !ok { 8 log.Error(err) 9} å¼‚å¸¸ï¼šwatchæ¥å£è‡ªåŠ¨æ–­å¼€ 1. ç°è±¡ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œwatchæ“ä½œæŒç»­ä¸€æ®µæ—¶é—´å°±ä¼šè‡ªåŠ¨æ–­å¼€
2. æ’æŸ¥ æˆ‘ä»¬è¿›å…¥watchåŒ…é‡Œé¢æ‰¾åˆ°streamwatcher.goï¼Œå…¶ä¸­èŠ‚é€‰äº†ä¸€äº›é‡è¦ç‰‡æ®µï¼š
1type StreamWatcher struct { 2	sync.Mutex 3	source Decoder 4	reporter Reporter 5	result chan Event 6	stopped bool 7} 8... 9func NewStreamWatcher(d Decoder, r Reporter) *StreamWatcher { 10	sw := &amp;amp;StreamWatcher{ 11	source: d, 12	reporter: r, 13	// It&amp;#39;s easy for a consumer to add buffering via an extra 14	// goroutine/channel, but impossible for them to remove it, 15	// so nonbuffered is better.
          
          
        
      </description>
    </item>
    
    <item>
      <title>prometheus ç›‘æµ‹ kubernetes æ§åˆ¶å¹³é¢</title>
      <link>https://zhangsiming-blyq.github.io/post/kubernetes/monitor-control-plane/</link>
      <pubDate>Mon, 11 Apr 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/kubernetes/monitor-control-plane/</guid>
      <description>
        
          
            å¯¹äº kubernetes é›†ç¾¤çš„æ§åˆ¶å¹³é¢ç»„ä»¶ï¼Œç›‘æ§æ˜¯å¿…è¦çš„, ä»–å¯ä»¥å¸®åŠ©æˆ‘ä»¬è·å–åˆ°é›†ç¾¤çš„æ•´ä½“è´Ÿè½½å‹åŠ›ï¼Œå¹¶åœ¨æ ¸å¿ƒç»„ä»¶å‡ºé—®é¢˜çš„æ—¶å€™é…åˆå‘Šè­¦è®©ç®¡ç†å‘˜åŠæ—¶å‘ç°é—®é¢˜ï¼ŒåŠæ—¶å¤„ç†ï¼Œæ›´ç¨³å®šçš„ä¿è¯é›†ç¾¤çš„ç”Ÿå‘½å‘¨æœŸã€‚
ä¸€ã€Prometheus å¦‚ä½•è‡ªåŠ¨å‘ç° Kubernetes Metrics æ¥å£? prometheus æ”¶é›† kubernetes é›†ç¾¤ä¸­çš„æŒ‡æ ‡æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ crd(servicemonitors.monitoring.coreos.com)çš„æ–¹å¼ï¼Œä¸»è¦é€šè¿‡æ ‡ç­¾åŒ¹é…ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡ scrape_configï¼Œæ”¯æŒæ ¹æ®é…ç½®å¥½çš„&amp;quot;relabel_configs&amp;quot;ä¸­çš„å…·ä½“ç›®æ ‡, è¿›è¡Œä¸æ–­æ‹‰å–(æ‹‰å–é—´éš”ä¸º&amp;quot;scrape_interval&amp;quot;)
é…ç½®æƒé™ï¼š k8s ä¸­ RBAC æ”¯æŒæˆæƒèµ„æºå¯¹è±¡çš„æƒé™ï¼Œæ¯”å¦‚å¯ä»¥ getã€listã€watch é›†ç¾¤ä¸­çš„ podï¼Œè¿˜æ”¯æŒç›´æ¥èµ‹äºˆå¯¹è±¡è®¿é—® api è·¯å¾„çš„æƒé™ï¼Œæ¯”å¦‚è·å–/healthz, /api ç­‰, å®˜æ–¹å¯¹äº non_resource_urls çš„è§£é‡Šå¦‚ä¸‹ï¼š
non_resource_urls - (Optional) NonResourceURLs is a set of partial urls that a user should have access to. *s are allowed, but only as the full, final step in the path Since non-resource URLs are not namespaced, this field is only applicable for ClusterRoles referenced from a ClusterRoleBinding.
          
          
        
      </description>
    </item>
    
    <item>
      <title>æµ…è°ˆ containerd</title>
      <link>https://zhangsiming-blyq.github.io/post/kubernetes/containerd/</link>
      <pubDate>Sun, 10 Apr 2022 00:00:00 +0000</pubDate>
      
      <guid>https://zhangsiming-blyq.github.io/post/kubernetes/containerd/</guid>
      <description>
        
          
            ä¼´éšç€kuberneteså¯¹dockerçš„å¼ƒç”¨ï¼Œcontainerdå¼€å§‹è¿›å…¥å¤§ä¼—è§†é‡ï¼›ç›¸æ¯”äºkubeletä¸­é›†æˆdocker-shimè¿æ¥dockerï¼Œdockerå†æ¬¡æ¡ç”¨containerdå»ç®¡ç†å®¹å™¨ï¼Œç›´æ¥ä½¿ç”¨containerdå¯ä»¥é€šè¿‡åŸç”ŸCRIæ¥å£çš„è°ƒç”¨å®ç°å®¹å™¨runtimeï¼Œç®€åŒ–äº†è°ƒç”¨é“¾è·¯ï¼Œæ›´åŠ çš„çµæ´»å¯é ã€‚
ä¸€ã€å®‰è£…ä½¿ç”¨ ctr ç®¡ç† containerd 1# Install Dependent Libraries 2$ sudo apt-get update 3$ sudo apt-get install libseccomp2 4 5# ä¸‹è½½ 6# ç›®å‰æ˜¯ä¸‹è½½çš„1.5.2 7$ wget https://github.com/containerd/containerd/releases/download/v${VERSION}/cri-containerd-cni-${VERSION}-linux-amd64.tar.gz 8 9# å®‰è£… 10$ sudo tar --no-overwrite-dir -C / -xzf cri-containerd-cni-${VERSION}-linux-amd64.tar.gz 11# åˆå§‹åŒ–containerdé…ç½® 12$ containerd config default &amp;gt; /etc/containerd/config.toml 13# ä¿®æ”¹é»˜è®¤çš„sandbox_image 14$ vim /etc/containerd/config.toml 15... 16sandbox_image = &amp;#34;registry.cn-beijing.aliyuncs.com/shannonai-k8s/pause:3.1&amp;#34; 17... 18 19# å¯åŠ¨æœåŠ¡ 20sudo systemctl daemon-reload 21sudo systemctl start containerd 22 23# æŸ¥çœ‹ç‰ˆæœ¬ 24$ ctr version 25Client: 26 Version: 1.
          
          
        
      </description>
    </item>
    
  </channel>
</rss>
